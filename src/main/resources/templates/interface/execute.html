<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<title>Responsive_table</title>
    <base th:href="@{/}">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- bootstrap-css -->
    <link rel="stylesheet" th:href="@{static/css/bootstrap.min.css}" >
<!-- //bootstrap-css -->
<!-- Custom CSS -->
    <link th:href="@{static/css/style.css}" rel='stylesheet' type='text/css' />
    <link th:href="@{static/css/style-responsive.css}" rel="stylesheet"/>
    <link th:href="@{static/css/toastr.css}" rel="stylesheet"/>
<!-- font CSS -->
<link href='http://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
<!-- font-awesome icons -->
    <link rel="stylesheet" th:href="@{static/css/font.css}" type="text/css"/>
    <link th:href="@{static/css/font-awesome.css}" rel="stylesheet">
<!-- //font-awesome icons -->
<script th:src="@{static/js/jquery2.0.3.min.js}"></script>
    <script th:src="@{static/js/toastr.min.js}"></script>
</head>
<body>
<section id="container">
<!--header start-->
<header class="header fixed-top clearfix">
<!--logo start-->
<div class="brand">

    <a th:href="@{/toIndex}" class="logo">
        VISITORS
    </a>
    <div class="sidebar-toggle-box">
        <div class="fa fa-bars"></div>
    </div>
</div>
<!--logo end-->

<div class="nav notify-row" id="top_menu">
    <!--  notification start -->
    <ul class="nav top-menu">
        <!-- settings start -->
        <li class="dropdown">
            <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                <i class="fa fa-tasks"></i>
                <span class="badge bg-success">8</span>
            </a>
            <ul class="dropdown-menu extended tasks-bar">
                <li>
                    <p class="">You have 8 pending tasks</p>
                </li>
                <li>
                    <a href="#">
                        <div class="task-info clearfix">
                            <div class="desc pull-left">
                                <h5>Target Sell</h5>
                                <p>25% , Deadline  12 June’13</p>
                            </div>
                                    <span class="notification-pie-chart pull-right" data-percent="45">
                            <span class="percent"></span>
                            </span>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <div class="task-info clearfix">
                            <div class="desc pull-left">
                                <h5>Product Delivery</h5>
                                <p>45% , Deadline  12 June’13</p>
                            </div>
                                    <span class="notification-pie-chart pull-right" data-percent="78">
                            <span class="percent"></span>
                            </span>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <div class="task-info clearfix">
                            <div class="desc pull-left">
                                <h5>Payment collection</h5>
                                <p>87% , Deadline  12 June’13</p>
                            </div>
                                    <span class="notification-pie-chart pull-right" data-percent="60">
                            <span class="percent"></span>
                            </span>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <div class="task-info clearfix">
                            <div class="desc pull-left">
                                <h5>Target Sell</h5>
                                <p>33% , Deadline  12 June’13</p>
                            </div>
                                    <span class="notification-pie-chart pull-right" data-percent="90">
                            <span class="percent"></span>
                            </span>
                        </div>
                    </a>
                </li>

                <li class="external">
                    <a href="#">See All Tasks</a>
                </li>
            </ul>
        </li>
        <!-- settings end -->
        <!-- inbox dropdown start-->
        <li id="header_inbox_bar" class="dropdown">
            <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                <i class="fa fa-envelope-o"></i>
                <span class="badge bg-important">4</span>
            </a>
            <ul class="dropdown-menu extended inbox">
                <li>
                    <p class="red">You have 4 Mails</p>
                </li>
                <li>
                    <a href="#">
                        <span class="photo"><img alt="avatar" src="images/3.png"></span>
                                <span class="subject">
                                <span class="from">Jonathan Smith</span>
                                <span class="time">Just now</span>
                                </span>
                                <span class="message">
                                    Hello, this is an example msg.
                                </span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <span class="photo"><img alt="avatar" src="images/1.png"></span>
                                <span class="subject">
                                <span class="from">Jane Doe</span>
                                <span class="time">2 min ago</span>
                                </span>
                                <span class="message">
                                    Nice admin template
                                </span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <span class="photo"><img alt="avatar" src="images/3.png"></span>
                                <span class="subject">
                                <span class="from">Tasi sam</span>
                                <span class="time">2 days ago</span>
                                </span>
                                <span class="message">
                                    This is an example msg.
                                </span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <span class="photo"><img alt="avatar" src="images/2.png"></span>
                                <span class="subject">
                                <span class="from">Mr. Perfect</span>
                                <span class="time">2 hour ago</span>
                                </span>
                                <span class="message">
                                    Hi there, its a test
                                </span>
                    </a>
                </li>
                <li>
                    <a href="#">See all messages</a>
                </li>
            </ul>
        </li>
        <!-- inbox dropdown end -->
        <!-- notification dropdown start-->
        <li id="header_notification_bar" class="dropdown">
            <a data-toggle="dropdown" class="dropdown-toggle" href="#">

                <i class="fa fa-bell-o"></i>
                <span class="badge bg-warning">3</span>
            </a>
            <ul class="dropdown-menu extended notification">
                <li>
                    <p>Notifications</p>
                </li>
                <li>
                    <div class="alert alert-info clearfix">
                        <span class="alert-icon"><i class="fa fa-bolt"></i></span>
                        <div class="noti-info">
                            <a href="#"> Server #1 overloaded.</a>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="alert alert-danger clearfix">
                        <span class="alert-icon"><i class="fa fa-bolt"></i></span>
                        <div class="noti-info">
                            <a href="#"> Server #2 overloaded.</a>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="alert alert-success clearfix">
                        <span class="alert-icon"><i class="fa fa-bolt"></i></span>
                        <div class="noti-info">
                            <a href="#"> Server #3 overloaded.</a>
                        </div>
                    </div>
                </li>

            </ul>
        </li>
        <!-- notification dropdown end -->
    </ul>
    <!--  notification end -->
</div>
<div class="top-nav clearfix">
    <!--search & user info start-->
    <ul class="nav pull-right top-menu">
        <li>
            <input type="text" class="form-control search" placeholder=" Search">
        </li>
        <!-- user login dropdown start-->
        <li class="dropdown">
            <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                <img alt="" src="images/2.png">
                <span class="username">John Doe</span>
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu extended logout">
                <li><a href="#"><i class=" fa fa-suitcase"></i>Profile</a></li>
                <li><a href="#"><i class="fa fa-cog"></i> Settings</a></li>
                <li><a href="login.html"><i class="fa fa-key"></i> Log Out</a></li>
            </ul>
        </li>
        <!-- user login dropdown end -->
       
    </ul>
    <!--search & user info end-->
</div>
</header>
<!--header end-->
<!--sidebar start-->
<aside>
    <div id="sidebar" class="nav-collapse">
        <!-- sidebar menu start-->
        <div class="leftside-navigation">
            <ul class="sidebar-menu" id="nav-accordion">
                <li>
                    <a th:href="@{/toIndex}">
                        <i class="fa fa-dashboard"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                
                <li class="sub-menu">
                    <a class="active" href="javascript:;">
                        <i class="fa fa-book"></i>
                        <span>接口管理</span>
                    </a>
                    <ul class="sub">
						<li><a class="active" th:href="@{/admin/interface/list}">接口列表</a></li>
						<li><a href="glyphicon.html">项目列表</a></li>
                        <li><a href="grids.html">Grids</a></li>
                    </ul>
                </li>


            </ul>            </div>
        <!-- sidebar menu end-->
    </div>
</aside>
<!--sidebar end-->
<!--main content start-->
<section id="main-content">
    <section class="wrapper">
        <div class="form-w3layouts">
            <div class="row">
                <div class="col-lg-12">
                    <section class="panel">
                        <header class="panel-heading">
                           接口
                        </header>
                        <div class="panel-body">
                            <form class="form-horizontal bucket-form" method="get">
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">接口名</label>
                                    <div class="col-sm-6">
                                        <input type="text" class="form-control" id="interfaceName" name="interfaceName" th:value="${iface.interfaceName}" readonly placeholder="接口名">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">所属项目</label>
                                    <div class="col-sm-6">
                                        <input type="text" class="form-control" id="projectName" name="projectName" th:value="${iface.projectName}" readonly >
<!--                                        <span class="help-block">A block of help text that breaks onto a new line and may extend beyond one line.</span>-->
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">提交类型</label>
                                    <div class="col-sm-6">
                                        <input type="text" class="form-control round-input"  name="methodType" id="methodType" th:value="${iface.methodType}" readonly >
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">接口类型</label>
                                    <div class="col-sm-6">
                                        <input class="form-control" type="text" name="interfaceType" id="interfaceType" th:value="${iface.interfaceType}" readonly >
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">服务名</label>
                                    <div class="col-sm-6">
                                        <input class="form-control"  type="text" id="applicationName" name="applicationName" th:value="${iface.applicationName}" readonly >
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">接口类</label>
                                    <div class="col-sm-6">
                                        <input type="text" class="form-control" id="interfaceClass" name="interfaceClass" th:value="${iface.interfaceClass}" readonly >
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="col-sm-3 control-label">注册中心地址</label>
                                    <div class="col-sm-6">
                                        <input type="text" class="form-control" id="registryAddress" name="registryAddress" th:value="${iface.registryAddress}" readonly  placeholder="注册中心地址，dubbo的zookeeper地址或springCloud的接口服务地址">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="col-sm-3 control-label">方法名</label>
                                    <div class="col-sm-6">
                                        <input type="text" class="form-control" id="methodName" name="methodName" placeholder="方法名" th:value="${iface.methodName}" readonly >
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">接口版本号</label>
                                    <div class="col-sm-6">
                                        <input type="text" class="form-control" id="interfaceVersion" name="interfaceVersion" th:value="${iface.interfaceVersion}" readonly  placeholder="接口版本号，主要dubbo接口使用，如1.0.0">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">参数类型</label>
                                    <div class="col-sm-6">
                                        <input type="text" class="form-control" id="paramType" name="paramType" placeholder="参数类型" th:value="${iface.paramType}" readonly >
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">参数值</label>
                                    <div class="col-sm-6">
                                        <textarea class="form-control" id="param" name="param" placeholder="参数值，url参数或json类型参数" readonly >[[${iface.param}]]</textarea>
                                    </div>
                                </div>



                            </form>
                            <div class="text-center">
                                <button type="submit" th:onclick="|execute(${iface.id})|" class="btn btn-info">执行</button>
                            </div>

                        </div>
                    </section>



                </div>
            </div>
        </div>
    </section>
 <!-- footer -->
		  <div class="footer">
			<div class="wthree-copyright">
			  <p>Copyright &copy; 2020.Company name All rights reserved.</p>
			</div>
		  </div>
  <!-- / footer -->
</section>

<!--main content end-->
</section>


</body>
<script>
    toastr.options = {
        "closeButton": true,
        "debug": false,
        "positionClass": "toast-top-full-width",
        "onclick": null,
        "showDuration": "300",
        "hideDuration": "1000",
        "timeOut": "5000",
        "extendedTimeOut": "1000",
        "showEasing": "swing",
        "hideEasing": "linear",
        "showMethod": "fadeIn",
        "hideMethod": "fadeOut"
    }
    function execute(id) {
        $.ajax({
            url:"/admin/interface/execute?id="+id,
            type:"POST",
            contentType: 'application/json',
            success:function(result){
                if(result.event == 0){
                    toastr.success(result.data,"提示-"+result.message,{
                        onHidden: function (){
                            location.href="/admin/interface/list";
                        }
                    });

                } else {
                    toastr.error(result.message);
                }
            }
        });
    }
</script>
</html>
